START
IN R0
MOV [102], R0
MOV R0, [103]
MOV R1, 1
LT R0, R1
MOV [101], R0
MOV R0, 1
MOV [103], R0
L1:
MOV R0, [103]
MOV R1, [102]
LE R0, R1
JZ R0, L2
MOV R1, [103]
MOV R2, 1
SUB R1, R2
IN R0
MOV R2, 1
ADD R1, R2
MOV [R1], R0
MOV R0, [103]
MOV R1, 1
ADD R0, R1
MOV [103], R0
JMP L1
L2:
MOV R0, 0
MOV [104], R0
L3:
MOV R0, [104]
MOV R1, [102]
MOV R2, 1
SUB R1, R2
LT R0, R1
JZ R0, L4
MOV R0, 0
MOV [105], R0
L5:
MOV R0, [105]
MOV R1, [102]
MOV R2, [104]
SUB R1, R2
MOV R2, 1
SUB R1, R2
LT R0, R1
JZ R0, L6
MOV R1, [105]
MOV R2, 1
ADD R1, R2
MOV R0, [R1]
MOV R2, [105]
MOV R3, 1
ADD R2, R3
MOV R3, 1
ADD R2, R3
MOV R1, [R2]
GT R0, R1
JZ R0, L7
MOV R1, [105]
MOV R2, 1
ADD R1, R2
MOV R0, [R1]
MOV [106], R0
MOV R1, [105]
MOV R2, 1
ADD R1, R2
MOV R2, 1
ADD R1, R2
MOV R0, [R1]
MOV R1, [105]
MOV R2, 1
ADD R1, R2
MOV [R1], R0
MOV R0, [106]
MOV R1, [105]
MOV R2, 1
ADD R1, R2
MOV R2, 1
ADD R1, R2
MOV [R1], R0
L7:
MOV R0, [105]
MOV R1, 1
ADD R0, R1
MOV [105], R0
JMP L5
L6:
MOV R0, [104]
MOV R1, 1
ADD R0, R1
MOV [104], R0
JMP L3
L4:
MOV R0, 1
MOV [103], R0
L8:
MOV R0, [103]
MOV R1, [102]
LE R0, R1
JZ R0, L9
MOV R1, [103]
MOV R2, 1
SUB R1, R2
MOV R2, 1
ADD R1, R2
MOV R0, [R1]
OUT R0
MOV R0, [103]
MOV R1, 1
ADD R0, R1
MOV [103], R0
JMP L8
L9:
HALT
